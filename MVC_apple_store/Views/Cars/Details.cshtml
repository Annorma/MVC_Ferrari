@using MVC_Ferrari.Helpers
@model DataAccess.Entities.Car;
@{
    string? toastrMsg = TempData[WebConstants.alertMsgKey] as string;
    ViewData["Title"] = "Details";
}

<div class="details" style="background-image: url(@Model.ImagePath)">
</div>

<h2 class="text-center mt-20">@Model.Model</h2>
<div class="container text-left mt-20">
    <div class="row">
        <div class="col">
            <h5 class="gray">From 0 to 100 km/h:</h5>
            <p>@Model.StoKMh s</p>
        </div>
        <div class="col">
            <h5 class="gray">Price:</h5>
            <p>@Model.Price$</p>
        </div>
        <div class="col">
            <p class="justify">@Model.Description</p>
        </div>
    </div>
</div>

<div class="row justify-content-center">
    <a asp-controller="Cart" asp-action="Add" asp-route-productId="@Model.Id" class="btn btn-outline-light my-3 w-auto">Buy a model</a>
    <p class="gray ml-10">*you are buying a model based on car you have chosen, NOT a real car!</p>
</div>


<div class="position-fixed top-0 end-0 p-3" style="z-index: 11">
    <div id="toastr-block" data-bs-autohide="true" data-bs-animation="true" class="toast align-items-center text-white bg-primary border-0" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body">
                @toastrMsg
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
</div>



@if (toastrMsg != null)
{
    @section Scripts
    {
    <script>
        var toastLiveExample = document.getElementById('toastr-block');
        var toast = new bootstrap.Toast(toastLiveExample);
        toast.show();
    </script>
    }
}

@*<secion class="text-center">
    <div class="text-center my-2">
        <img width="300" src="@Model.ImagePath" class="rounded" alt="Ferrari image">
    </div>
    <h1>@Model.Model</h1>   
    <h3>@Model.Description</h3>
    <p>From @Model.Price$</p>
    <div>
        @if (ViewBag.IsInCart)
        {
            <a asp-controller="Cart" asp-action="Remove" asp-route-productId="@Model.Id" class="btn btn-secondary my-3">Remove from Cart</a>
        }
        else
        {
            <a asp-controller="Cart" asp-action="Add" asp-route-productId="@Model.Id" class="btn btn-primary my-3">Buy</a>
        }
    </div>
    <div>
        <a href="#" class="link-secondary">Buy a model</a>
        <a href="#" class="link-secondary">Watch the show</a>
    </div>  
</secion>


<div class="mt-5 fs-6">
    <ul class="list-group list-group-flush">
        <li class="list-group-item">
            Ferrari N.V. - Holding company - A company under Dutch law, having its official seat in Amsterdam, the Netherlands and its corporate address at Via Abetone Inferiore No. 4, I-41053 Maranello (MO), Italy, registered with the Dutch trade register under number 64060977  
        </li>
        <li class="list-group-item">
            Ferrari S.p.A. - A company under Italian law, having its registered office at Via Emilia Est No. 1163, Modena, Italy, Companies’ Register of Modena, VAT and Tax number 00159560366 and share capital of Euro 20,260,000
        </li>
        <li class="list-group-item">
            Copyright 2022 - All rights reserved.
        </li>
    </ul>
</div>*@